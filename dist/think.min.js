!function(a,b){"use strict";function c(a,b){null==b?this.removeAttribute(a):this.setAttribute(a,b)}function d(a,b,c){return b||("default"in c?c["default"]:"")}function e(a,b){E[a]=b,b.set||(b.set=c),b.get||(b.get=d)}function f(a,b){return b.toUpperCase()}function g(a,c,d){var e;return a[v]||Object.defineProperty(a,v,{value:{_:{observers:{},cache:{},created:{},widgets:{}}},enumerable:!!y.debug,writable:!0,configurable:!0}),e=a[v],d===b?d=c?e[c]:e:e[c]=d,d}function h(a,b){var c;for(c in b)Array.isArray(b)&&Array.isArray(a)?i(a,b):a[c]=b[c];return a}function i(a,b){var c;for(c=0;c<b.length;c++)a.push(b[c])}function j(a){for(var b in a)Array.isArray(a[b])||(a[b]=[a[b]])}function k(a,b){var c,d,e=g(a)._.observers,f=e.attr;j(b),f?(f.observer.disconnect(),h(f.fns,b)):(e.attr={},f=e.attr,f.fns=b,c=function(b){B.c(),b.forEach(function(b){(f.fns[b.attributeName]||[]).forEach(function(b){b.call(a)})})},f.observer=new MutationObserver(c),f.take=function(){var a=f.observer.takeRecords();a.length&&c(a)}),d=Object.keys(f.fns),d.length&&f.observer.observe(a,{attributes:!0,attributeFilter:d})}function l(a,b,c){var d,e,f,g,h,i=[];for(d=0,e=a.length;e>d;d++)if(1==a[d].nodeType&&u.contains(a[d])==c)for(a[d].matches(b)&&i.push(a[d]),f=a[d].querySelectorAll(b),g=0,h=f.length;h>g;g++)u.contains(f[g])==c&&i.push(f[g]);return i}function m(a,b){var c,d=g(a)._.observers,e=d.subtree;j(b),e?h(e.fns,b):(d.subtree={},e=d.subtree,e.fns=b,c=function(a){var b,c,d,f,g,h=a.length;B.c(),C.b||(g=!0,C.b=!0);for(var j in e.fns){for(f={added:[],removed:[]},c=0;h>c;c++)b=a[c],i(f.added,l(b.addedNodes,j,!0)),i(f.removed,l(b.removedNodes,j,!1));if(f.added.length||f.removed.length)for(d=0;d<e.fns[j].length;d++)e.fns[j][d](f)}g&&(C.b=!1,C.d())},e.observer=new MutationObserver(c),e.take=function(){var a=e.observer.takeRecords();a.length&&c(a)},e.observer.observe(a,{childList:!0,subtree:!0}))}function n(a,b,c){c||(c=u);var d={};d[a]=function(c){c.added.forEach(function(c){var d=g(c)._;d.created[a]?b.moved&&b.moved.call(c):(d.created[a]=a,b.created&&b.created.call(c))}),c.removed.forEach(function(c){var d=g(c)._;b.destroyed&&b.destroyed.call(c),d.created[a]&&delete d.created[a]})},I(function(){d[a]({added:l([c],a,!0),removed:[]}),m(c,d)},!0)}function o(a,b){var c,d=g(a)._.widgets;if(!d[b.name]){b.props&&Object.defineProperties(a,b.props),b.proto&&h(a,b.proto),b.xattrs&&k(a,b.xattrs),b.subtree&&m(a,b.subtree);for(c in y.exts)b[c]&&y.exts[c](a,b[c])}b.life.created&&C.a(function(){b.life.created.call(a,b)}),d[b.name]=!0}function p(a,b){return{get:function(){return E[b.type].get.call(this,a,this.getAttribute(a),b)},set:function(c){b.cancelable&&y.event.fire(this,"before"+b.name+"change",{cancelable:!0}).defaultPrevented||(E[b.type].set.call(this,a,c,b),b.onset&&H.xupdateattr.call(this),b.fire&&y.event.fire(this,b.name+"change"))}}}function q(a){var b,c,d;if(a.attrs){a.xattrs={};for(b in a.attrs){if(c=a.attrs[b],c.widgetName=a.name,G.test(b)?(c.isAria=!0,d=b):d="data-"+b,c.onset&&(a.xattrs[d]=c.onset),c.name=c.name||b.replace(G,"").replace(F,f),!E[c.type])throw"no reflectType "+c.type;a.props[c.name]=p(d,c)}}}function r(a,b){if(b.name=a,b.life||(b.life={}),b.think={created:function(){o(this,b)}},b.life.destroyed&&(b.think.destroyed=function(){b.life.destroyed.call(this,b)}),b.life.moved&&(b.think.moved=b.life.moved),b.props||(b.props={}),q(b),b.props)for(a in b.props)b.props["x"+a]=b.props[a],delete b.props[a],a="x"+a,["configurable","enumerable"].forEach(function(c){c in b.props[a]||(b.props[a][c]=!0)});if(b.proto||b.props){b.proto||(b.proto={});for(a in b.proto)b.proto["x"+a]=b.proto[a],delete b.proto[a];for(a in H)b.proto[a]||(b.proto[a]=H[a])}}function s(a){return z.call(arguments,1).forEach(function(b){for(var c in b)a[c]&&"object"==typeof a[c]?Array.isArray(a[c])&&"length"in b[c]?i(a[c],b[c]):s(a[c],b[c]):a[c]=b[c]&&"object"==typeof b[c]?s({},b[c]):b[c]}),a}var t,u=a.documentElement,v="think"+Date.now(),w=0,x=Element.prototype,y={},z=Array.prototype.slice,A="string",B=function(){var a=[];return{c:function(){for(;a.length;)a.shift()()},a:function(b,c,d,e,f){var h=g(b)._.cache;return d+="",h[c]||(h[c]={}),h[c][d]=e,f&&e&&a.push(function(){d in h[c]&&delete h[c][d]}),e},g:function(a,b,c){var d=g(a)._.cache;return c+="",d[b]&&d[b][c]}}}(),C=function(){var a=[];return{a:function(b){a.push(b)},d:function(){if(!C.b)for(;a.length;)a.shift()()}}}(),D=function(a){return"#"+a},E={},F=/-(.)/g,G=/^aria\-/,H={};[{name:"xclosest",fn:"matches"},{name:"xclosestContainer",fn:"querySelector"}].forEach(function(a){H[a.name]=function(c,d,e){d=d||this;var f=B.g(d,a.name,c);if(f!==b)return f;for(f=d;f&&f[a.fn]&&!f[a.fn](c);)f=f.parentNode,f==e&&(f=null);return B.a(d,a.name,c,f&&1==f.nodeType?f:null,1)}}),["querySelector","querySelectorAll"].forEach(function(a){var b="querySelectorAll"==a;H["x"+a]=function(c,d){d||(d=this);var e=B.g(d,a,c);return e=d[a](c),b&&(e=z.call(e)),B.a(d,a,c,e,1)}}),["attr","subtree"].forEach(function(a){H["xupdate"+a]=function(){var b=g(this)._.observers[a];b&&b.take()}}),x.matches||(x.matches=x.mozMatchesSelector||x.webkitMatchesSelector||x.msMatchesSelector),e("",{}),e("boolean",{get:function(a,b,c){return c.isAria?"true"==b:null!=b},set:function(a,b,c){b=!!b,c.isAria?this.setAttribute(a,b):this.removeAttribute(a)}}),e("enum",{get:function(a,b,c){return-1!=c.enums.indexOf(b)?b:c["default"]||""}}),e("node",{get:function(b,c,d){var e,f,g,h=B.g(this,b,c);return h?h:(c&&(h=a.getElementById(c)),!h&&d.indexOf&&(e=typeof d.indexOf!=A?c:d.indexOf,f=d.indexParent?this.xclosest(d.indexParent):this.xclosestContainer(e,this.parent),f&&(g=z.call(this.xquerySelectorAll((d.indexSelf||"")+"."+d.widgetName,f)).indexOf(this),h=this.xquerySelectorAll(e,f)[g])),!h&&d.childOf&&(e=typeof d.childOf!=A?c:d.childOf,h=this.xclosest(e)),!h&&d.parentOf&&(e=typeof d.parentOf!=A?c:d.parentOf,h=this.querySelector(e)),B.a(this,b,c,h||null,1))},set:function(a,b){b?("string"!=typeof b&&(b=b.id,b||(w++,b.id="id-"+w,b=b.id)),this.setAttribute(a,b)):this.removeAttribute(a)}}),e("nodes",{get:function(a,b,c){var d,e,f,g,h,j,k=B.g(this,a,b);return k?k:(j="filter"in c?c.filter:c.parentOf||c.childOf||"",k=[],c.sameValue?i(k,this.xquerySelectorAll("["+a+'="'+b+'"]'+(j||"."+c.widgetName),u)):b&&i(k,this.xquerySelectorAll(b.split(" ").map(D).join(" "),u)),c.parentOf&&(d=typeof c.parentOf!=A?b:c.parentOf,d=this.xquerySelectorAll(d),c.idAsValueOf&&(e=this.id,d=d.filter(function(a){var b=a.getAttribute(c.idAsValueOf);return!b||b==e})),i(k,d)),c.childOf&&(d=typeof c.childOf!=A?b:c.childOf,(f=this.xclosest(d))&&k.push(f)),c.idAsValueOf&&(e||(e=this.id))&&(d=typeof c.idAsValueOf!=A?b:c.idAsValueOf,i(k,this.xquerySelectorAll("["+d+'="'+e+'"]'+j,u))),c.indexOf&&(d=typeof c.indexOf!=A?b:c.indexOf,h=c.indexParent?this.xclosest(c.indexParent):this.xclosestContainer(d,this.parent),h&&(g=z.call(this.xquerySelectorAll((c.indexSelf||"")+"."+c.widgetName,h)).indexOf(this),(f=this.xquerySelectorAll(d,h)[g])&&k.push(f))),B.a(this,a,b,k,1))}}),e("json",{get:function(a,b,c){var d=B.g(this,a,b);if(d)return d;if(b)try{d=JSON.parse(this.getAttribute(a))}catch(e){}return B.a(this,a,b,d||c["default"]||null)},set:function(a,b){"object"==typeof b&&(b=JSON.stringify(this.getAttribute(a))),this.setAttribute(a,b)}});var I=function(){var b=[],c=/^loade|^i|^c/;return a.addEventListener("DOMContentLoaded",function(){for(C.b=!0;b.length;)b.shift()();C.b=!1,C.d()}),function(d){t||c.test(a.readyState)?(t=!0,d(),window.setImmediate&&setImmediate(C.d),setTimeout(C.d)):b.push(d)}}();y.exts={},function(){function a(a){var b=a.match(c);return b?[a.replace(b[0],""),b[1]]:[a]}var b=H.xclosest,c=/\s*\:delegate\((.+)\)/;y.event={on:function(a,c,d,e){var f=d;e&&(d._delegateFn||(d._delegateFn={}),d._delegateFn[e]||(d._delegateFn[e]=function(c){var f=b(e,c.target,a);return f?d.call(this,c,f):void 0}),f=d._delegateFn[e]),c.split(" ").forEach(function(b){a.addEventListener(b,f)})},off:function(a,b,c,d){d&&c._delegateFn&&"function"==typeof c._delegateFn[d]&&(c=c._delegateFn[d]),b.split(" ").forEach(function(b){a.removeEventListener(b,c)})},fire:function(a,b,c){c=h({bubbles:!0},c);var d=new CustomEvent(b,c);return a.dispatchEvent(d),d}},["on","off"].forEach(function(b){y.exts[b]=function(c,d){var e;for(var f in d)e=a(f),y.event[b](c,e[0],d[f],e[1])}})}(),y.extend=s,y.baseWidget=H,y.mixin=h,y.getTypes=function(){return Object.keys(E)},y.addAttributeType=e,y.addAttrObserver=k,y.addTreeObserver=m,y.dom=function(a,b){r(a,b),n("."+a,b.think)},y.update=function(){var a=g(u)._.observers.subtree;a&&a.take()},y.widget=y.dom,window.think=y}(document);